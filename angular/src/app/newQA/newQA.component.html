<form name="qa_form" autocomplete="off" novalidate>
    <div class="container">
      <h4>Call information</h4>
      <div class="row">
        <div class="form-group col-md-3">
          <label for="date">Call date</label>
          <div class="input-group">
            <input class="form-control" placeholder="yyyy-mm-dd"
              name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
              <div class="input-group-append">
                <button class="btn btn-secondary" (click)="d.toggle()" type="button"><fa name="calendar"></fa></button>
              </div>
            </div>
        </div>
        <div class="form-group col-md-2">
          <label for="prid">PRID</label>
          <input type="text" class="form-control" [(ngModel)]="qa.prid" name="qaPrid" id="prid" placeholder="PRID" data-validation="length" data-validation-length="8" data-validation-error-msg="PRID must be exactly 8 numbers long.">
        </div>
        <div class="form-group col-md-4">
          <label for="presenting_problem">Presenting problem</label>
          <input type="text" name="presenting_problem" [(ngModel)]="qa.problem" name="qaProblem" class="form-control" id="presenting_problem" placeholder="Presenting problem" data-validation="required">
        </div>
        <div class="form-group col-md-3 text-center">
          <label>&nbsp;</label>
          <div class="btn-group btn-group-toggle" ngbRadioGroup name="determinant" [(ngModel)]="qa.determinant">
            <label ngbButtonLabel class="btn-secondary" *ngFor="let det of determinants">
              <input ngbButton type="radio" [value]="det.determinant_id"> {{det.abbreviation}}
            </label>
          </div>
        </div>
      </div>
      <hr>
      <h4>Personnel</h4>
      <div class="row">
        <div class="form-group col-md-3">
          <label for="typeahead-focus">Tech in charge:</label>
            <ng-select
              name="qa_tic"
              [items]="ccs"
              bindLabel="first_last"
              [(ngModel)]="selectedCC">
            </ng-select>
        </div>
        <div class="form-group col-md-2">
          <label for="900number">900 number</label>
          <ng-select
            name="qa_tic"
            [items]="ccs"
            bindLabel="ninehundred"
            [(ngModel)]="selectedCC">
          </ng-select>
        </div>
        <div class="form-group col-md-3">
          <label for="typeahead-focus">Preceptor:</label>
          <ng-select
            name="qa_prec"
            [items]="preceptors"
            bindLabel="first_last"
            [(ngModel)]="qa.preceptor">
          </ng-select>
        </div>
        <div class="form-group col-md-2">
          <label for="preceptor900number">900 number</label>
          <ng-select
            name="qa_prec"
            [items]="preceptors"
            bindLabel="ninehundred"
            [(ngModel)]="qa.preceptor">
          </ng-select>
        </div>
        <div class="col-md-2 no-preceptor text-center">
          <label for="preceptor900number">&nbsp;</label>
          <div class="btn-group btn-group-toggle" ngbRadioGroup name="noPrec" [(ngModel)]="qa.noPrec">
            <label ngbButtonLabel class="btn-secondary">
              <input ngbButton type="checkbox" [value]="1"> No Preceptor
            </label>
          </div>
        </div>
      </div>
      <hr>
      <h4>Affirmative questions</h4>
      <div class="row affirmative">
        <div class="col-md-12">
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              1.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Was the dispatch to en route time less than six (6) minutes and dispatch to on-scene time less than 10 minutes?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn1" [(ngModel)]="qa.yn1">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              2.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Was the chief complaint explicitly recorded?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn2" [(ngModel)]="qa.yn2">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              3.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">If EtOH+, EDP, or AMS patient, was glucometry performed?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn3" [(ngModel)]="qa.yn3">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="2"> N/A
                </label>
              </div>
            </div>
          </div>
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              4.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Was the disposition appropriate?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn4" [(ngModel)]="qa.yn4">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h4>Negative questions</h4>
      <div class="row negative">
        <div class="col-md-12">
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              5.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Were there any exposures?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn5" [(ngModel)]="qa.yn5">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              6.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Was a REMO MD contacted?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn6" [(ngModel)]="qa.yn6">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h4>REMO specialty QI</h4>
      <div class="row remo-specialty">
        <div class="col-md-12">
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              7.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Was naloxone, albuterol, or epinephrine	administered?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn7" [(ngModel)]="qa.yn7">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
          <div class="row question">
            <div class="question-number offset-sm-1 col-sm-1 col-1">
              8.
            </div>
            <div class="col-sm-6 col-7 question-text">
              <div class="form-check form-check-inline">
                <label class="form-check-label">Was a patella reduction performed or public defibrillation used?</label>
              </div>
            </div>
            <div class="col-sm-2 col-4 question-answer">
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="yn8" [(ngModel)]="qa.yn8">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <hr>
      <h4>Review</h4>
      <div class="row review">
        <div class="col-md-7 form-group">
          <label for="comments">Comments</label>
          <textarea class="form-control" id="comments" rows="2"></textarea>
        </div>
        <div class="col col-md-3 text-center">
          <div class="row">
            <div class="col-sm-12 form-group">
              <label for="flagged">Flagged for review</label>
              <div class="btn-group btn-group-toggle" ngbRadioGroup name="flagged" [(ngModel)]="qa.flagged">
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="1"> Yes
                </label>
                <label ngbButtonLabel class="btn-secondary">
                  <input ngbButton type="radio" [value]="0"> No
                </label>
              </div>
            </div>
          </div>
        </div>
        <div class="col col-md-2 form-group text-center">
          <label>&nbsp;</label>
          <button type="submit" class="btn btn-success btn-lg" (click)="sendQA()" id="submit">Submit</button>
        </div>
      </div>
    </div>
  </form>
